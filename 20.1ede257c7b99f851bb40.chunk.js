webpackJsonp([20],{"9o2x":function(l,n){l.exports='import { Component, AfterContentInit } from \'@angular/core\';\nimport { Subject } from \'rxjs/Subject\';\nimport { NtUploadControlError } from \'@ng-tangram/components/upload\';\n// import { NtFile } from \'@ng-tangram/components/file\';\nimport { Validators, FormControl } from \'@angular/forms\';\n\n@Component({\n  selector: \'demo-file-basic\',\n  template: `\n    <nt-form-field label="文件列表">\n      <nt-file url="/files/logos" maxFiles="5" name="file" [formControl]="fileControl">\n        <nt-ant-icon type="upload"></nt-ant-icon>&nbsp;Select File\n      </nt-file>\n      <button class="button">文件列表</button>\n    </nt-form-field>\n  `\n})\nexport class DemoFileBasciComponent {\n\n  fileControl = new FormControl([\n    {\n      id: "nt-file-032132121",\n      name: "microMsg.1430457292873的副本.jpg",\n      status: 4,\n      link: \'https://www.baidu.com\'\n    },\n    {\n      id: "nt-file-1",\n      name: "microMsg.1430457292873的副本.jpg",\n      status: 4,\n      link: \'https://www.baidu.com\'\n    }\n  ], [Validators.required]);\n\n  files = [\n    { id: "nt-file-032132121", name: "microMsg.1430457292873的副本.jpg", },\n    { id: "nt-file-1", name: "microMsg.1430457292873的副本.jpg", }\n  ];\n}\n'},XEi3:function(l,n,t){"use strict";function e(l){return p._37(0,[(l()(),p._15(0,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),p._35(1,null,["",""]))],null,function(l,n){l(n,0,0,n.parent.context.$implicit.link),l(n,1,0,n.parent.context.$implicit.name)})}function u(l){return p._37(0,[(l()(),p._15(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),p._35(1,null,["",""]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.name)})}function i(l){return p._37(0,[(l()(),p._15(0,0,null,null,1,"span",[["class","nt-file-error"]],null,null,null,null,null)),(l()(),p._35(1,null,["Error - ",""]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.error)})}function o(l){return p._37(0,[(l()(),p._15(0,0,null,null,2,"div",[["class","nt-close-button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.removeFile(l.parent.context.$implicit)&&e),e},null,null)),(l()(),p._15(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),p._35(-1,null,["×"]))],null,null)}function r(l){return p._37(0,[(l()(),p._15(0,0,null,null,2,"nt-progress",[["size","tiny"]],[[24,"@fadeOut",0],[2,"success",null],[2,"alert",null],[8,"className",0]],null,null,k.b,k.a)),p._14(1,49152,null,0,F.a,[],{value:[0,"value"],size:[1,"size"]},null),p._28(2,4)],function(l,n){l(n,1,0,n.parent.context.$implicit.progress,"tiny")},function(l,n){l(n,0,0,void 0,2===n.parent.context.$implicit.status,3===n.parent.context.$implicit.status,l(n,2,0,"progress",p._26(n,1).color,p._26(n,1).size,p._26(n,1).class).join(" "))})}function a(l){return p._37(0,[(l()(),p._15(0,0,null,null,22,"div",[["class","nt-file-item"]],[[24,"@fadeOut",0]],null,null,null,null)),(l()(),p._35(-1,null,["\n    "])),(l()(),p._15(2,0,null,null,16,"div",[["class","nt-file-info"]],[[2,"success",null],[2,"error",null],[2,"remote",null]],null,null,null,null)),(l()(),p._35(-1,null,["\n      "])),(l()(),p._15(4,0,null,null,0,"span",[["class","nt-file-symbol nt-file-symbol-icon"]],null,null,null,null,null)),(l()(),p._35(-1,null,[" \n      "])),(l()(),p._10(16777216,null,null,1,null,e)),p._14(7,16384,null,0,w.k,[p.Y,p.V],{ngIf:[0,"ngIf"]},null),(l()(),p._35(-1,null,["\n      "])),(l()(),p._10(16777216,null,null,1,null,u)),p._14(10,16384,null,0,w.k,[p.Y,p.V],{ngIf:[0,"ngIf"]},null),(l()(),p._35(11,null,["\n       ","\n       "])),p._31(12,1),(l()(),p._10(16777216,null,null,1,null,i)),p._14(14,16384,null,0,w.k,[p.Y,p.V],{ngIf:[0,"ngIf"]},null),(l()(),p._35(-1,null,["\n      "])),(l()(),p._10(16777216,null,null,1,null,o)),p._14(17,16384,null,0,w.k,[p.Y,p.V],{ngIf:[0,"ngIf"]},null),(l()(),p._35(-1,null,["\n    "])),(l()(),p._35(-1,null,["\n    "])),(l()(),p._10(16777216,null,null,1,null,r)),p._14(21,16384,null,0,w.k,[p.Y,p.V],{ngIf:[0,"ngIf"]},null),(l()(),p._35(-1,null,["\n  "]))],function(l,n){var t=n.component;l(n,7,0,n.context.$implicit.link),l(n,10,0,!n.context.$implicit.link),l(n,14,0,n.context.$implicit.error),l(n,17,0,!t.disabled),l(n,21,0,1===n.context.$implicit.status)},function(l,n){l(n,0,0,void 0),l(n,2,0,2===n.context.$implicit.status,3===n.context.$implicit.status,4===n.context.$implicit.status),l(n,11,0,p._36(n,11,0,l(n,12,0,p._26(n.parent,0),n.context.$implicit.size)))})}function s(l){return p._37(0,[p._29(0,S,[]),p._33(402653184,1,{fileElement:0}),(l()(),p._15(2,0,null,null,3,"button",[["class","button hollow small nt-file-trigger"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.onTriggerClick()&&e),e},null,null)),(l()(),p._35(-1,null,["\n  "])),p._25(null,0),(l()(),p._35(-1,null,["\n"])),(l()(),p._35(-1,null,["\n"])),(l()(),p._15(7,0,[[1,0],["fileElement",1]],null,0,"input",[["hidden",""],["type","file"]],[[8,"accept",0]],[[null,"change"]],function(l,n,t){var e=!0;return"change"===n&&(e=!1!==l.component._fileChanged()&&e),e},null,null)),(l()(),p._35(-1,null,["\n"])),(l()(),p._15(9,0,null,null,4,"div",[["class","nt-file-list"]],null,null,null,null,null)),(l()(),p._35(-1,null,["\n  "])),(l()(),p._10(16777216,null,null,1,null,a)),p._14(12,802816,null,0,w.j,[p.Y,p.V,p.y],{ngForOf:[0,"ngForOf"]},null),(l()(),p._35(-1,null,["\n"])),(l()(),p._35(-1,null,["\n"]))],function(l,n){l(n,12,0,n.component.files)},function(l,n){var t=n.component;l(n,2,0,t.files.length>=t.maxFiles||t.disabled),l(n,7,0,t.accept)})}function c(l){return p._37(0,[(l()(),p._35(-1,null,["\n    "])),(l()(),p._15(1,0,null,null,17,"nt-form-field",[["class","nt-form-field"],["label","文件列表"]],[[2,"nt-form-error",null],[2,"nt-form-horizontal",null]],null,null,v.b,v.a)),p._14(2,4374528,null,1,x.a,[p.G,p.i,[2,j.o],[2,j.h],[2,O.a],[2,C.a]],{label:[0,"label"]},null),p._33(335544320,1,{control:0}),(l()(),p._35(-1,0,["\n      "])),(l()(),p._15(5,0,null,0,9,"nt-file",[["class","nt-form-control nt-file"],["maxFiles","5"],["name","file"],["url","/files/logos"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,s,B)),p._14(6,540672,null,0,j.f,[[8,null],[8,null],[8,null]],{form:[0,"form"]},null),p._32(2048,null,j.l,null,[j.f]),p._14(8,16384,null,0,j.m,[j.l],null,null),p._14(9,245760,null,0,D,[q.a,[2,j.l]],{url:[0,"url"],name:[1,"name"],maxFiles:[2,"maxFiles"]},null),p._32(2048,[[1,4]],z.a,null,[D]),(l()(),p._35(-1,0,["\n        "])),(l()(),p._15(12,0,null,0,1,"nt-ant-icon",[["type","upload"]],null,null,null,m.c,m.b)),p._14(13,49152,null,0,G.a,[],{type:[0,"type"]},null),(l()(),p._35(-1,0,[" Select File\n      "])),(l()(),p._35(-1,0,["\n      "])),(l()(),p._15(16,0,null,0,1,"button",[["class","button"]],null,null,null,null,null)),(l()(),p._35(-1,null,["文件列表"])),(l()(),p._35(-1,0,["\n    "])),(l()(),p._35(-1,null,["\n  "]))],function(l,n){var t=n.component;l(n,2,0,"文件列表"),l(n,6,0,t.fileControl),l(n,9,0,"/files/logos","file","5"),l(n,13,0,"upload")},function(l,n){l(n,1,0,p._26(n,2)._invalid,p._26(n,2).horizontal),l(n,5,0,p._26(n,8).ngClassUntouched,p._26(n,8).ngClassTouched,p._26(n,8).ngClassPristine,p._26(n,8).ngClassDirty,p._26(n,8).ngClassValid,p._26(n,8).ngClassInvalid,p._26(n,8).ngClassPending)})}function _(l){return p._37(0,[(l()(),p._15(0,0,null,null,1,"h1",[["id","文件-File"]],null,null,null,null,null)),(l()(),p._35(-1,null,["\n        文件 File\n      "])),(l()(),p._15(2,0,null,null,1,"h2",[["id","何时使用"]],null,null,null,null,null)),(l()(),p._35(-1,null,["\n        何时使用\n      "])),(l()(),p._15(4,0,null,null,1,"h2",[["id","代码演示"]],null,null,null,null,null)),(l()(),p._35(-1,null,["\n        代码演示\n      "])),(l()(),p._15(6,0,null,null,17,"p",[],null,null,null,null,null)),(l()(),p._15(7,0,null,null,16,"nt-example",[],null,null,null,h.b,h.a)),p._14(8,49152,null,0,g.a,[],null,null),(l()(),p._35(-1,0,["\n  "])),(l()(),p._15(10,0,null,0,5,"nt-example-showcase",[],null,null,null,b.b,b.a)),p._14(11,49152,null,0,y.a,[],null,null),(l()(),p._35(-1,0,["\n    "])),(l()(),p._15(13,0,null,0,1,"demo-file-basic",[],null,null,null,c,R)),p._14(14,49152,null,0,N,[],null,null),(l()(),p._35(-1,0,["\n  "])),(l()(),p._35(-1,0,["\n  "])),(l()(),p._15(17,0,null,0,2,"nt-example-legend",[["title","基本"]],null,null,null,A.b,A.a)),p._14(18,49152,null,0,Y.a,[],{title:[0,"title"]},null),(l()(),p._35(-1,0,["最简单的下拉菜单。"])),(l()(),p._35(-1,0,["\n  "])),(l()(),p._15(21,0,null,0,1,"nt-example-code",[],null,null,null,X.b,X.a)),p._14(22,1097728,null,0,K.a,[p.J,p.n],{code:[0,"code"]},null),(l()(),p._35(-1,0,["\n"])),(l()(),p._35(-1,null,["\n"])),(l()(),p._15(25,0,null,null,1,"h2",[["id","API"]],null,null,null,null,null)),(l()(),p._35(-1,null,["\n        API\n      "]))],function(l,n){var t=n.component;l(n,18,0,"基本"),l(n,22,0,t.basicCode)},null)}Object.defineProperty(n,"__esModule",{value:!0});var f,p=t("WT6e"),d=function(){},m=t("g30d"),h=t("SIRZ"),g=t("2I22"),b=t("UWX+"),y=t("3E/G"),v=t("p+kO"),x=t("xrvQ"),j=t("7DMc"),O=t("Asoi"),C=t("BK/N"),k=t("/x5q"),F=t("VR5t"),w=t("Xjw4"),S=function(){function l(){this.units=["bytes","KB","MB","GB","TB","PB"]}return l.prototype.transform=function(l,n){if(void 0===l&&(l=0),void 0===n&&(n=2),isNaN(parseFloat(String(l)))||!isFinite(l))return"?";for(var t=0;l>=1024;)l/=1024,t++;return l.toFixed(+n)+" "+this.units[t]},l}(),z=t("eGOD"),E=t("akf3"),I=t("ItHS"),P=t("l7vE"),M=t("RU1a"),U=t("EEr4"),V=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var t in n)n.hasOwnProperty(t)&&(l[t]=n[t])},function(l,n){function t(){this.constructor=l}f(l,n),l.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),$=0,T=function(l){function n(){var n=null!==l&&l.apply(this,arguments)||this;return n.id="nt-file-"+$++,n}return V(n,l),n}(P.e),D=function(l){function n(n,t){var e=l.call(this,n,t)||this;return e._destroy=new U.Subject,e._disabled=!1,e._required=!1,e._autoupload=!0,e._value=[],e._maxFiles=1,e._maxSize=5,e._accept=["*"],e.files=[],e.url="",e.name="",e.error=new p.p,e.remove=new p.p,e}return V(n,l),Object.defineProperty(n.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(l){this._disabled=Object(E.b)(l)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"required",{get:function(){return this._required},set:function(l){this._required=Object(E.b)(l)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"accept",{get:function(){return this._accept},set:function(l){this._accept="string"==typeof l?l.replace(" ","").split(","):Object(E.a)(l)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxSize",{get:function(){return this._maxSize},set:function(l){this._maxSize=Object(E.c)(l,5)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxFiles",{get:function(){return this._maxFiles},set:function(l){this._maxFiles=Object(E.c)(l,1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"autoupload",{get:function(){return this._autoupload},set:function(l){this._autoupload=Object(E.b)(l)},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){},n.prototype.ngOnDestroy=function(){this._destroy.next(),this._destroy.complete(),this.error.complete(),this.remove.complete()},n.prototype.onTriggerClick=function(){this.files.length<this.maxFiles&&this.fileElement.nativeElement.click()},n.prototype._fileChanged=function(){var l=this,n=this.fileElement.nativeElement.files[0];if(n&&this.files.length<this.maxFiles){if(!this._fileSizeValid(n))return void this.error.next(new P.b(n,1024*this.maxSize*1024,this.maxSize+"MB"));if(!this._fileTypeValid(n))return void this.error.next(new P.a(n,n.type));var t=new T(n.name,n.size,n.type);this.files.push(t);var e={begin:function(){return l._onUploadBegin(t)},progress:function(n){return l._onUploadProgress(n,t)},done:function(){return l._onUploadDone(t)}};this.autoupload&&(t.uploader=this._uploader.upload(this.url,this._getFormData(n),e).pipe(Object(M.takeUntil)(this._destroy)).subscribe(function(n){(t.status=n.status)===P.f.SUCCESS&&(t.data=n.data,l._value.push(t),l._onChange(l._value))},function(n){t.status=P.f.ERROR,t.error=n.statusText,t.progress=100,l.error.next(new P.c(n.status,n.statusText))}))}this._onTouched&&this._onTouched(),this.fileElement.nativeElement.value=""},n.prototype.removeFile=function(l){if(!this.disabled){l.uploader&&l.uploader.unsubscribe();var n=this._value.indexOf(l);n>-1&&this._value.splice(n,1);var t=this.files.indexOf(l);t>-1&&this.files.splice(t,1),this.remove.next(l),this._onChange(this._value)}},n.prototype.setDisabledState=function(l){this._disabled=l},n.prototype.setValue=function(l){var n,t;l&&(this._value.length=0,(n=this._value).push.apply(n,l),this.files.length=0,(t=this.files).push.apply(t,this._value))},n.prototype._fileTypeValid=function(l){return!!l&&(this.accept.indexOf(l.type)>-1||this.accept.indexOf("*")>-1)},n.prototype._fileSizeValid=function(l){return!!l&&l.size<=1024*this.maxSize*1024},n.prototype._onUploadBegin=function(l){l.status=P.f.SENDING},n.prototype._onUploadProgress=function(l,n){l.total&&l.total>0&&(n.progress=Math.round(l.loaded/l.total*100))},n.prototype._onUploadDone=function(l){l.status=P.f.SUCCESS},n}(P.d),q=t("ctoT"),B=p._13({encapsulation:2,styles:[],data:{animation:[{type:7,name:"fadeOut",definitions:[{type:1,expr:"* => void",animation:{type:8,animation:{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:1,transform:"translate3d(0, 0, 0)",offset:0},offset:null},{type:6,styles:{opacity:0,transform:"translate3d(0, 0, 0)",offset:1},offset:null}]},timings:"0.3s 0s"},options:null},options:null}],options:{}}]}});p._11("nt-file",D,function(l){return p._37(0,[(l()(),p._15(0,0,null,null,2,"nt-file",[["class","nt-form-control nt-file"]],null,null,null,s,B)),p._32(6144,null,z.a,null,[D]),p._14(2,245760,null,0,D,[q.a,[8,null]],null,null)],function(l,n){l(n,2,0)},null)},{url:"url",name:"name",disabled:"disabled",required:"required",accept:"accept",maxSize:"maxSize",maxFiles:"maxFiles",autoupload:"autoupload"},{error:"error",remove:"remove"},["*"]);var G=t("Wk8R"),N=function(){this.fileControl=new j.e([{id:"nt-file-032132121",name:"microMsg.1430457292873的副本.jpg",status:4,link:"https://www.baidu.com"},{id:"nt-file-1",name:"microMsg.1430457292873的副本.jpg",status:4,link:"https://www.baidu.com"}],[j.s.required]),this.files=[{id:"nt-file-032132121",name:"microMsg.1430457292873的副本.jpg"},{id:"nt-file-1",name:"microMsg.1430457292873的副本.jpg"}]},R=p._13({encapsulation:2,styles:[],data:{}});p._11("demo-file-basic",N,function(l){return p._37(0,[(l()(),p._15(0,0,null,null,1,"demo-file-basic",[],null,null,null,c,R)),p._14(1,49152,null,0,N,[],null,null)],null,null)},{},{},[]);var A=t("d9RJ"),Y=t("EsUz"),X=t("MNnU"),K=t("SIoQ"),J=function(){this.basicCode=t("9o2x")},W=p._13({encapsulation:2,styles:[],data:{}}),H=p._11("nt-file-document",J,function(l){return p._37(0,[(l()(),p._15(0,0,null,null,1,"nt-file-document",[],null,null,null,_,W)),p._14(1,49152,null,0,J,[],null,null)],null,null)},{},{},[]),Q=t("9Sd6"),Z=t("XHgV"),L=t("1T37"),ll=t("+j5Y"),nl=t("3DPZ"),tl=t("UMtG"),el=t("bkcK"),ul=t("Th76"),il=t("gX28"),ol=t("zpp5"),rl=t("xPGC"),al=t("PB6A"),sl=function(){},cl=t("Ki53"),_l=t("bfOx");t.d(n,"FileDocumentModuleNgFactory",function(){return fl});var fl=p._12(d,[],function(l){return p._22([p._23(512,p.k,p._8,[[8,[m.a,H]],[3,p.k],p.E]),p._23(4608,w.m,w.l,[p.A,[2,w.w]]),p._23(6144,Q.b,null,[w.c]),p._23(4608,Q.c,Q.c,[[2,Q.b]]),p._23(4608,Z.a,Z.a,[]),p._23(5120,L.c,L.a,[[3,L.c],p.G,Z.a]),p._23(5120,L.f,L.e,[[3,L.f],Z.a,p.G]),p._23(4608,ll.i,ll.i,[L.c,L.f,p.G,w.c]),p._23(5120,ll.e,ll.j,[[3,ll.e],w.c]),p._23(4608,ll.h,ll.h,[L.f,w.c]),p._23(5120,ll.f,ll.m,[[3,ll.f],w.c]),p._23(4608,ll.c,ll.c,[ll.i,ll.e,p.k,ll.h,ll.f,p.g,p.w,p.G,w.c]),p._23(5120,ll.k,ll.l,[ll.c]),p._23(4608,j.v,j.v,[]),p._23(4608,j.d,j.d,[]),p._23(4608,nl.a,nl.b,[]),p._23(4608,q.a,q.a,[I.c,[2,nl.a]]),p._23(512,w.b,w.b,[]),p._23(512,tl.a,tl.a,[]),p._23(512,Q.a,Q.a,[]),p._23(512,el.f,el.f,[]),p._23(512,Z.b,Z.b,[]),p._23(512,L.b,L.b,[]),p._23(512,ll.g,ll.g,[]),p._23(512,ul.a,ul.a,[]),p._23(512,il.a,il.a,[]),p._23(512,ol.a,ol.a,[]),p._23(512,j.t,j.t,[]),p._23(512,j.i,j.i,[]),p._23(512,j.q,j.q,[]),p._23(512,rl.a,rl.a,[]),p._23(512,al.a,al.a,[]),p._23(512,sl,sl,[]),p._23(512,cl.a,cl.a,[]),p._23(512,_l.p,_l.p,[[2,_l.v],[2,_l.m]]),p._23(512,d,d,[]),p._23(1024,_l.k,function(){return[[{path:"",component:J}]]},[])])})}});